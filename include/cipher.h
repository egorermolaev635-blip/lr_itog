#ifndef CIPHER_H
#define CIPHER_H

#include <string>
#include <vector>
#include <map>

/**
 * @file cipher.h
 * @brief Заголовочный файл для реализации шифра Цезаря
 *
 * Содержит прототипы функций для шифрования и дешифрования текстов
 * на русском и английском языках.
 */

/**
 * @brief Шифрует текст используя алгоритм Цезаря
 *
 * Функция сдвигает каждую букву в тексте на заданное количество позиций.
 * Спецсимволы, цифры и пробелы остаются без изменений.
 * Регистр букв сохраняется.
 *
 * @param text Исходный текст для шифрования
 * @param key Величина сдвига (1-25 для английского, 1-32 для русского)
 * @param lang Язык текста: 'E' для английского, 'R' для русского
 * @return Зашифрованный текст
 * @throw std::invalid_argument если ключ не в допустимом диапазоне
 */
std::string encryptCaesar(const std::string& text, int key, char lang);

/**
 * @brief Дешифрует текст, зашифрованный шифром Цезаря
 *
 * Функция применяет обратный сдвиг для восстановления исходного текста.
 * Эквивалентна encryptCaesar с ключом (26-key) для английского
 * и (33-key) для русского.
 *
 * @param text Зашифрованный текст
 * @param key Величина сдвига, использованная при шифровании
 * @param lang Язык текста: 'E' для английского, 'R' для русского
 * @return Расшифрованный текст
 * @throw std::invalid_argument если ключ не в допустимом диапазоне
 */
std::string decryptCaesar(const std::string& text, int key, char lang);

/**
 * @brief Проверяет, находится ли ключ в допустимом диапазоне
 *
 * @param key Проверяемый ключ
 * @param lang Язык: 'E' для английского (1-25), 'R' для русского (1-32)
 * @return true если ключ в допустимом диапазоне, false иначе
 */
bool isValidKey(int key, char lang);

/**
 * @brief Генерирует случайный ключ для указанного языка
 *
 * @param lang Язык: 'E' для английского, 'R' для русского
 * @return Случайный ключ (1-25 для англ., 1-32 для русс.)
 */
int generateRandomKey(char lang);

/**
 * @brief Возвращает размер алфавита для указанного языка
 *
 * @param lang Язык: 'E' для английского (26), 'R' для русского (33)
 * @return Размер алфавита
 */
int getAlphabetSize(char lang);

/**
 * @brief Получает описание ошибки для недействительного ключа
 *
 * @param lang Язык текста
 * @return Сообщение об ошибке с допустимым диапазоном
 */
std::string getKeyRangeError(char lang);

#endif // CIPHER_H
